{% extends "base.html" %}
{% block content %}
  <h3>Uploaded Files</h3>
  <table class="table">
    <thead><tr><th>Filename</th><th>Uploaded By</th><th>Action</th></tr></thead>
    <tbody>
      {% for f in files %}
        <tr>
          <td>{{ f.filename }}</td>
          <td>{{ f.uploaded_by }}</td>
          <td>
            {% if user.is_authenticated %}
              <a href="{% url 'download' f.pk %}" class="btn btn-sm btn-primary">Download (decrypt)</a>
            {% else %}
              <span class="text-muted">Login to download</span>
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="3">No files yet</td></tr>
      {% endfor %}
    </tbody>
  </table>
  {% comment %} <hr>
  <h4>Federated Learning Simulation</h4>
  <p>From the project root, run: <code>python -m fl.federated_sim</code></p> {% endcomment %}
{% endblock %}
